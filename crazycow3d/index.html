<!DOCTYPE html>
<html>
<head>
<title>Игра Симулятор Бешеной Коровы - 8Games.net</title>
<link rel="stylesheet" href="https://cedarisasigma.github.io/crazycow3d/gameloader2020.css" />
<script src="https://cedarisasigma.github.io/crazycow3d/gameloader2020.js"></script>	
<!-- <script>
	var onOpenTimeout = 100,
	onRewardedTimeout = 5000,
	onCloseTimeout = 5100,
	onCloseTimeoutFullAdv = 5100;
</script> -->
<script src="https://cedarisasigma.github.io/crazycow3d/bridge.js"></script> 
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<script>
!function(){
  for(var m=document.getElementsByTagName('meta'),i=m.length-1;i>=0;i--)if(m[i].httpEquiv&&m[i].httpEquiv.toLowerCase()==='refresh')m[i].remove();
  var L={href:location.href,assign:function(){},replace:function(){},reload:function(){}};
  Object.defineProperty(window,'location',{get:function(){return L},set:function(){}});
  Object.defineProperty(document,'location',{get:function(){return L},set:function(){}});
  history.pushState=history.replaceState=function(){};
  window.addEventListener('click',function(e){
    for(var t=e.target;t&&t!==document;t=t.parentNode)
      if(t.tagName==='A'&&t.href){e.preventDefault();break}
  },true);
  window.addEventListener('submit',function(e){e.preventDefault()},true);
}();
</script>
<script defer>



            const STORAGE_DATA_SEPARATOR = '{bridge_data_separator}'
            const STORAGE_KEYS_SEPARATOR = '{bridge_keys_separator}'
            const STORAGE_VALUES_SEPARATOR = '{bridge_values_separator}'

            // utils
            window.unityInstance = null
            let progressBarFillingInterval = null

            function sendMessageToUnity(name, value) {
                if (window.unityInstance !== null) {
                    window.unityInstance.SendMessage('Bridge', name, value)
                }
            }

            function onUnityLoadingProgressChanged(progress) {
                if (progress === 0.9) {
                    completeProgressBarFilling()
                    return
                }

                progressBarFill.style.width = `${progress * 100}%`
                if (progress === 1 && progressBarFillingInterval !== null) {
                    clearInterval(progressBarFillingInterval)
                    progressBarFillingInterval = null
                }
            }

            function completeProgressBarFilling() {
                if (progressBarFillingInterval !== null) {
                    return
                }

                let currentPercent = 90
                progressBarFill.style.width = `${currentPercent}%`
                progressBarFillingInterval = setInterval( () => {
                    currentPercent++
                    if (currentPercent > 100) {
                        currentPercent = 100
                    }

                    progressBarFill.style.width = `${currentPercent}%`

                    if (currentPercent >= 100) {
                        clearInterval(progressBarFillingInterval)
                        progressBarFillingInterval = null
                        return
                    }
                }
                , 100)
            }

            window.addEventListener('pointerdown', () => {
                window.focus()
                canvas.focus()
            }
            )

            let bridgeOptions = {
                platforms: {}
            }

            // initialization
            bridge.initialize(bridgeOptions).then( () => {
                bridge.advertisement.on('banner_state_changed', state => sendMessageToUnity('OnBannerStateChanged', state))
                bridge.advertisement.on('interstitial_state_changed', state => sendMessageToUnity('OnInterstitialStateChanged', state))
                bridge.advertisement.on('rewarded_state_changed', state => sendMessageToUnity('OnRewardedStateChanged', state))
                bridge.game.on('visibility_state_changed', state => sendMessageToUnity('OnVisibilityStateChanged', state))

                if (bridge.platform.id === bridge.PLATFORM_ID.GAME_DISTRIBUTION) {
                    bridge.advertisement.showInterstitial()
                }
              }
            ).catch(error => console.error(error))

            // platform
            window.getPlatformId = function() {
                return bridge.platform.id
            }

            window.getPlatformLanguage = function() {
                return bridge.platform.language
            }

            window.getPlatformPayload = function() {
                let payload = bridge.platform.payload
                if (typeof payload === 'string') {
                    return payload
                } else {
                    return ''
                }
            }

            window.getPlatformTld = function() {
                let tld = bridge.platform.tld
                if (typeof tld === 'string') {
                    return tld
                } else {
                    return ''
                }
            }

            window.sendMessageToPlatform = function(message) {
                bridge.platform.sendMessage(message)
            }

            window.getServerTime = function() {
                bridge.platform.getServerTime().then(result => {
                    sendMessageToUnity('OnGetServerTimeCompleted', result.toString())
                }
                ).catch(error => {
                    sendMessageToUnity('OnGetServerTimeCompleted', 'false')
                }
                )
            }

            // device
            window.getDeviceType = function() {
                return bridge.device.type
            }

            // player
            window.getIsPlayerAuthorizationSupported = function() {
                return bridge.player.isAuthorizationSupported.toString()
            }

            window.getIsPlayerAuthorized = function() {
                return bridge.player.isAuthorized.toString()
            }

            window.getPlayerId = function() {
                if (bridge.player.id) {
                    return bridge.player.id.toString()
                }

                return ''
            }

            window.getPlayerName = function() {
                if (bridge.player.name) {
                    return bridge.player.name.toString()
                }

                return ''
            }

            window.getPlayerPhotos = function() {
                if (bridge.player.photos.length > 0) {
                    return JSON.stringify(bridge.player.photos)
                }

                return ''
            }

            window.authorizePlayer = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.player.authorize(options).then( () => {
                    sendMessageToUnity('OnAuthorizeCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnAuthorizeCompleted', 'false')
                }
                )
            }

            // game
            window.getVisibilityState = function() {
                return bridge.game.visibilityState
            }

            // storage
            window.getStorageDefaultType = function() {
                return bridge.storage.defaultType
            }

            window.getIsStorageSupported = function(storageType) {
                return bridge.storage.isSupported(storageType).toString()
            }

            window.getIsStorageAvailable = function(storageType) {
                return bridge.storage.isAvailable(storageType).toString()
            }

            window.getStorageData = function(key, storageType) {
                let keys = key.split(STORAGE_KEYS_SEPARATOR)

                bridge.storage.get(keys, storageType, false).then(data => {
                    if (keys.length > 1) {
                        let values = []

                        for (let i = 0; i < keys.length; i++) {
                            let value = data[i]
                            if (value) {
                                if (typeof value !== 'string') {
                                    value = JSON.stringify(value)
                                }

                                values.push(value)
                            } else {
                                values.push('')
                            }
                        }

                        sendMessageToUnity('OnGetStorageDataSuccess', `${key}${STORAGE_DATA_SEPARATOR}${values.join(STORAGE_VALUES_SEPARATOR)}`)
                    } else {
                        if (data[0]) {
                            if (typeof data[0] !== 'string') {
                                data = JSON.stringify(data[0])
                            }
                        } else {
                            data = ''
                        }

                        sendMessageToUnity('OnGetStorageDataSuccess', `${key}${STORAGE_DATA_SEPARATOR}${data}`)
                    }
                }
                ).catch(error => {
                    sendMessageToUnity('OnGetStorageDataFailed', key)
                }
                )
            }

            window.setStorageData = function(key, value, storageType) {
                let keys = key.split(STORAGE_KEYS_SEPARATOR)
                let values = value.split(STORAGE_VALUES_SEPARATOR)

                bridge.storage.set(keys, values, storageType).then( () => {
                    sendMessageToUnity('OnSetStorageDataSuccess', key)
                }
                ).catch(error => {
                    sendMessageToUnity('OnSetStorageDataFailed', key)
                }
                )
            }

            window.deleteStorageData = function(key, storageType) {
                let keys = key.split(STORAGE_KEYS_SEPARATOR)

                bridge.storage.delete(keys, storageType).then( () => {
                    sendMessageToUnity('OnDeleteStorageDataSuccess', key)
                }
                ).catch(error => {
                    sendMessageToUnity('OnDeleteStorageDataFailed', key)
                }
                )
            }

            // advertisement
            window.getInterstitialState = function() {
                if (bridge.advertisement.interstitialState) {
                    return bridge.advertisement.interstitialState
                } else {
                    return ''
                }
            }

            window.getIsBannerSupported = function() {
                return bridge.advertisement.isBannerSupported.toString()
            }

            window.getMinimumDelayBetweenInterstitial = function() {
                return bridge.advertisement.minimumDelayBetweenInterstitial.toString()
            }

            window.setMinimumDelayBetweenInterstitial = function(options) {
                bridge.advertisement.setMinimumDelayBetweenInterstitial(options)
            }

            window.showBanner = function(options) {
                if (options) {
                    options = JSON.parse(options)
                } else {
                    options = {}
                }

                if (bridge.platform.id === bridge.PLATFORM_ID.CRAZY_GAMES || bridge.platform.id === bridge.PLATFORM_ID.GAME_DISTRIBUTION) {
                    bannerContainer.style.display = 'block'
                }

                options['crazy_games'] = {
                    containerId: 'banner-container'
                }

                options['game_distribution'] = {
                    containerId: 'banner-container'
                }

                bridge.advertisement.showBanner(options)
            }

            window.hideBanner = function() {
                if (bridge.platform.id === bridge.PLATFORM_ID.CRAZY_GAMES || bridge.platform.id === bridge.PLATFORM_ID.GAME_DISTRIBUTION) {
                    bannerContainer.style.display = 'none'
                }

                bridge.advertisement.hideBanner()
            }

            window.showInterstitial = function() {
                bridge.advertisement.showInterstitial()
            }

            window.showRewarded = function() {
                bridge.advertisement.showRewarded()
            }

            window.checkAdBlock = function() {
                bridge.advertisement.checkAdBlock().then(result => {
                    sendMessageToUnity('OnCheckAdBlockCompleted', result.toString())
                }
                ).catch(error => {
                    sendMessageToUnity('OnCheckAdBlockCompleted', 'false')
                }
                )
            }

            // social
            window.getIsShareSupported = function() {
                return bridge.social.isShareSupported.toString()
            }

            window.getIsInviteFriendsSupported = function() {
                return bridge.social.isInviteFriendsSupported.toString()
            }

            window.getIsJoinCommunitySupported = function() {
                return bridge.social.isJoinCommunitySupported.toString()
            }

            window.getIsCreatePostSupported = function() {
                return bridge.social.isCreatePostSupported.toString()
            }

            window.getIsAddToHomeScreenSupported = function() {
                return bridge.social.isAddToHomeScreenSupported.toString()
            }

            window.getIsAddToFavoritesSupported = function() {
                return bridge.social.isAddToFavoritesSupported.toString()
            }

            window.getIsRateSupported = function() {
                return bridge.social.isRateSupported.toString()
            }

            window.getIsExternalLinksAllowed = function() {
                return bridge.social.isExternalLinksAllowed.toString()
            }

            window.share = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.social.share(options).then( () => {
                    sendMessageToUnity('OnShareCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnShareCompleted', 'false')
                }
                )
            }

            window.inviteFriends = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.social.inviteFriends(options).then( () => {
                    sendMessageToUnity('OnInviteFriendsCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnInviteFriendsCompleted', 'false')
                }
                )
            }

            window.joinCommunity = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.social.joinCommunity(options).then( () => {
                    sendMessageToUnity('OnJoinCommunityCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnJoinCommunityCompleted', 'false')
                }
                )
            }

            window.createPost = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.social.createPost(options).then( () => {
                    sendMessageToUnity('OnCreatePostCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnCreatePostCompleted', 'false')
                }
                )
            }

            window.addToHomeScreen = function() {
                bridge.social.addToHomeScreen().then( () => {
                    sendMessageToUnity('OnAddToHomeScreenCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnAddToHomeScreenCompleted', 'false')
                }
                )
            }

            window.addToFavorites = function() {
                bridge.social.addToFavorites().then( () => {
                    sendMessageToUnity('OnAddToFavoritesCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnAddToFavoritesCompleted', 'false')
                }
                )
            }

            window.rate = function() {
                bridge.social.rate().then( () => {
                    sendMessageToUnity('OnRateCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnRateCompleted', 'false')
                }
                )
            }

            // leaderboard
            window.getIsLeaderboardSupported = function() {
                return bridge.leaderboard.isSupported.toString()
            }

            window.getIsLeaderboardNativePopupSupported = function() {
                return bridge.leaderboard.isNativePopupSupported.toString()
            }

            window.getIsLeaderboardSetScoreSupported = function() {
                return bridge.leaderboard.isSetScoreSupported.toString()
            }

            window.getIsLeaderboardGetScoreSupported = function() {
                return bridge.leaderboard.isGetScoreSupported.toString()
            }

            window.getIsLeaderboardGetEntriesSupported = function() {
                return bridge.leaderboard.isGetEntriesSupported.toString()
            }

            window.leaderboardSetScore = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.leaderboard.setScore(options).then( () => {
                    sendMessageToUnity('OnLeaderboardSetScoreCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnLeaderboardSetScoreCompleted', 'false')
                }
                )
            }

            window.leaderboardGetScore = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.leaderboard.getScore(options).then(data => {
                    if (data) {
                        if (typeof data !== 'string') {
                            data = JSON.stringify(data)
                        }

                        sendMessageToUnity('OnLeaderboardGetScoreCompleted', data)
                    } else {
                        sendMessageToUnity('OnLeaderboardGetScoreCompleted', '')
                    }
                }
                ).catch(error => {
                    sendMessageToUnity('OnLeaderboardGetScoreCompleted', 'false')
                }
                )
            }

            window.leaderboardGetEntries = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.leaderboard.getEntries(options).then(data => {
                    if (data) {
                        sendMessageToUnity('OnLeaderboardGetEntriesCompletedSuccess', JSON.stringify(data))
                    } else {
                        sendMessageToUnity('OnLeaderboardGetEntriesCompletedSuccess', '')
                    }
                }
                ).catch(error => {
                    sendMessageToUnity('OnLeaderboardGetEntriesCompletedFailed', 'false')
                }
                )
            }

            window.leaderboardShowNativePopup = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.leaderboard.showNativePopup(options).then( () => {
                    sendMessageToUnity('OnLeaderboardShowNativePopupCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnLeaderboardShowNativePopupCompleted', 'false')
                }
                )
            }

            window.getIsPaymentsSupported = function() {
                return bridge.payments.isSupported.toString()
            }

            window.paymentsPurchase = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.payments.purchase(options).then( () => {
                    sendMessageToUnity('OnPaymentsPurchaseCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnPaymentsPurchaseCompleted', 'false')
                }
                )
            }

            window.paymentsConsumePurchase = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.payments.consumePurchase(options).then( () => {
                    sendMessageToUnity('OnPaymentsConsumePurchaseCompleted', 'true')
                }
                ).catch(error => {
                    sendMessageToUnity('OnPaymentsConsumePurchaseCompleted', 'false')
                }
                )
            }

            window.paymentsGetCatalog = function() {
                bridge.payments.getCatalog().then(data => {
                    if (data) {
                        if (typeof data !== 'string') {
                            data = JSON.stringify(data)
                        }

                        sendMessageToUnity('OnPaymentsGetCatalogCompletedSuccess', data)
                    } else {
                        sendMessageToUnity('OnPaymentsGetCatalogCompletedSuccess', '')
                    }
                }
                ).catch(error => {
                    sendMessageToUnity('OnPaymentsGetCatalogCompletedFailed', 'false')
                }
                )
            }

            window.paymentsGetPurchases = function() {
                bridge.payments.getPurchases().then(data => {
                    if (data) {
                        if (typeof data !== 'string') {
                            data = JSON.stringify(data)
                        }

                        sendMessageToUnity('OnPaymentsGetPurchasesCompletedSuccess', data)
                    } else {
                        sendMessageToUnity('OnPaymentsGetPurchasesCompletedSuccess', '')
                    }
                }
                ).catch(error => {
                    sendMessageToUnity('OnPaymentsGetPurchasesCompletedFailed', 'false')
                }
                )
            }

            window.getIsRemoteConfigSupported = function() {
                return bridge.remoteConfig.isSupported.toString()
            }

            window.remoteConfigGet = function(options) {
                if (options) {
                    options = JSON.parse(options)
                }

                bridge.remoteConfig.get(options).then(data => {
                    if (typeof data !== 'string') {
                        data = JSON.stringify(data)
                    }

                    sendMessageToUnity('OnRemoteConfigGetSuccess', data)
                }
                ).catch(error => {
                    sendMessageToUnity('OnRemoteConfigGetFailed', '')
                }
                )
            }
</script>
<script src="https://cedarisasigma.github.io/crazycow3d/logo_helper.js"></script>
<script>
		document.addEventListener('DOMContentLoaded', (e) => {
			alertLogo("120",{bottom:"50px",left:"5px"});
		})
</script>
</head>
<body>
<script type="text/javascript" defer>
	var options = {
		author: "8Games.net",
		logo: "logo.jpg",
		gameName: "Симулятор Бешеной Коровы",
		gameNameEu: "Mad Cow Simulator",
		gameUrl: "47767",
		moreLink: ("https://8games.net"),
		allowFullscreen: true,
		locale: "ru_RU",
		loader: "unity2020",
		loaderOptions: {
			unityLoaderUrl: "https://cedarisasigma.github.io/crazycow3d/Build.loader.js",
			unityConfigOptions: {
				dataUrl: "https://cedarisasigma.github.io/crazycow3d/Build.data.br",
				frameworkUrl: "https://cedarisasigma.github.io/crazycow3d/Build.framework.js",
			    codeUrl: "https://cedarisasigma.github.io/crazycow3d/Build.wasm.br",
				streamingAssetsUrl: "StreamingAssets"
			}
		},
    };
	GameInit.load(options);	  
</script>
</body>
</html>
